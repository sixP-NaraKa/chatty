<div class="absolute right-0 z-10 pr-4 pt-2 text-lg">
    <div class="flex flex-auto">
        <p class="pr-4 text-base">Logged in as: <b class="text-violet-200">{{currentUser.username}}</b></p>
        <button (click)="logout()"
            class="h-[25px] bg-violet-200 text-black rounded-t-lg px-2 hover:bg-violet-400">Logout</button>
    </div>
</div>

<div class="px-4 pb-4 pt-8 h-[85vh] w-full flex relative">
    <div class="flex-auto ml-auto w-28 max-w-[10rem] h-3/3 border border-yellow-200 px-2 mr-4 text-xs sm:text-base">
        <app-chat-tabs (loadChat)="displayChat($event)"></app-chat-tabs>
    </div>
    <div class="relative flex-auto mr-auto w-96 max-w-full h-3/3 border border-emerald-200 text-xs sm:text-base">
        <div class="chat-scrollbar text-left h-[90%] overflow-y-auto">
            <div *ngFor="let message of chatroomMessages" [class.text-right]="message.user_id === currentUser.userId">
                <p class="max-w-md break-words text-ellipsis overflow-hidden pb-8 px-2"
                    [class.mr-auto]="message.user_id !== currentUser.userId"
                    [class.ml-auto]="message.user_id === currentUser.userId"><b>{{
                        message.users.display_name}}:</b> {{ message.msg_content }}</p>
            </div>
        </div>
        <div *ngIf="chat" class="absolute bottom-0 w-full h-7 border-t rounded-lg border-violet-200 px-2 text-lg">
            <form [formGroup]="formGroup" (ngSubmit)="sendMessage()" ngNativeValidate>
            <input required formControlName="messageInput"
                class="absolute bottom-0 left-0 w-10/12 h-7 px-2 bg-transparent focus:outline-none whitespace-nowrap text-ellipsis overflow-hidden"
                placeholder="Write your message..." />
            <button type="submit"
                class="absolute bottom-0 right-0 w-1/6 h-7 border-l border-violet-200 rounded-lg text-violet-200 hover:bg-gray-600 whitespace-nowrap text-ellipsis overflow-hidden">Send</button>
            </form>
        </div>
    </div>
</div>
