<div class="absolute right-0 z-10 pr-4 pt-2 text-lg">
    <div class="flex flex-auto">
        <p class="pr-4 text-base whitespace-pre">Logged in as: <b class="text-violet-200">{{currentUser.username}}</b>
        </p>
        <button (click)="logout()"
            class="h-[25px] bg-violet-200 text-black rounded-t-lg px-2 hover:bg-violet-400">Logout</button>
    </div>
</div>

<div class="chat px-4 pb-4 pt-8 h-[85vh] flex">
    <div
        class="chat-tabs chat-scrollbar flex-auto overflow-y-auto w-1/12 min-w-[80px] border border-yellow-200 px-2 mr-4 text-xs sm:text-base">
        <app-chat-tabs (loadChat)="displayChat($event)"></app-chat-tabs>
    </div>
    <div
        class="chat-window-div relative flex-auto mr-auto w-3/4 min-w-[160px] md:w-2/3 border border-emerald-200 text-xs sm:text-base">
        <div class="chat-scrollbar text-left h-full overflow-y-auto">
            <div *ngFor="let message of chatDataDTO.chatroomMessages" class="chat-message-div"
                [class.text-right]="message.user_id === currentUser.userId">
                <p class="max-w-md break-words text-ellipsis overflow-hidden pb-8 px-2"
                    [class.mr-auto]="message.user_id !== currentUser.userId"
                    [class.ml-auto]="message.user_id === currentUser.userId"><b>{{
                        message.users.display_name}}:</b> {{ message.msg_content }}</p>
            </div>
        </div>
        <div *ngIf="chatDataDTO.chat"
            class="absolute bottom-0 w-full h-4 md:h-7 border-t-2 rounded-lg border-violet-200 px-2 text-xs md:text-base">
            <form [formGroup]="formGroup" (ngSubmit)="sendMessage()" ngNativeValidate>
                <input required formControlName="messageInput"
                    class="form-element absolute bottom-0 left-0 w-3/4 sm:w-10/12 h-4 md:h-7 border-t-2 border-violet-200 px-2 mt-2 focus:outline-none whitespace-nowrap text-ellipsis overflow-hidden"
                    placeholder="Write your message..." />
                <button type="submit"
                    class="form-element absolute bottom-0 right-0 w-1/4 sm:w-1/6 h-4 md:h-7 border-l-2 border-t-2 border-violet-200 text-violet-200 whitespace-nowrap text-ellipsis overflow-hidden z-50">Send</button>
            </form>
        </div>
    </div>
</div>